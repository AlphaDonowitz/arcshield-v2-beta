<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arc Shield - Infrastructure Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css?v=5.0"> <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <div id="landingPage">
        <div class="landing-content">
            <div class="badge"><span class="dot"></span> Arc Testnet Live</div>
            <h1 class="main-title"><span class="gradient-text">Arc</span> <span class="shield-gradient">Shield</span></h1>
            <p class="hero-desc">Launchpad, Bridge CCTP, Ferramentas DeFi & Reputa√ß√£o Social.</p>
            <button class="btn-hero" onclick="enterApp()"><span>Entrar no Dashboard</span> <span>‚Üí</span></button>
        </div>
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
    </div>

    <div id="dashboardLayout" style="display: none;">
        
        <aside class="sidebar">
            <div class="brand"><span class="gradient-text">Arc</span> <span class="shield-gradient">Shield</span></div>
            <nav class="nav-menu">
                <button class="nav-item active" onclick="navigate('creator', this)">üöÄ Launchpad</button>
                <button class="nav-item" onclick="navigate('bridge', this)">üåâ Bridge CCTP</button>
                <button class="nav-item" onclick="navigate('multisender', this)">üì® Multisender</button>
                <button class="nav-item" onclick="navigate('locker', this)">üîí Locker</button>
                <button class="nav-item" onclick="navigate('vesting', this)">‚è≥ Vesting</button>
                <button class="nav-item special-nav" onclick="navigate('leaderboard', this)">üëë Social Hub</button>
            </nav>
            <div class="sidebar-footer"><p>v5.0 UI ‚Ä¢ <a href="#" onclick="disconnectWallet()" style="color:#ff6b6b; text-decoration:none;">Sair</a></p></div>
        </aside>

        <main class="main-content">
            <header class="top-bar">
                <h2 id="pageTitle">Launchpad</h2>
                <div class="wallet-area"><button id="btnConnect" class="btn-connect" onclick="connectWallet()">üîå Conectar</button></div>
            </header>

            <div class="content-wrapper">
                
                <div id="creator" class="page-section active"><div class="glass-panel"><h3>Criar Novo Token</h3><div class="form-grid"><div><label>Nome</label><input type="text" id="tokenName"></div><div><label>S√≠mbolo</label><input type="text" id="tokenSymbol"></div></div><label>Supply</label><input type="number" id="tokenSupply"><div class="upload-area"><label>Logo</label><button class="mini-btn" onclick="document.getElementById('tokenLogoFile').click()">üìÇ Upload</button><input type="file" id="tokenLogoFile" hidden onchange="handleLogoUpload(this)"></div><button class="btn-primary" onclick="createToken()">üöÄ Criar Token</button></div></div>
                <div id="bridge" class="page-section"><div class="glass-panel"><h3>Bridge CCTP</h3><button class="btn-secondary" onclick="setBridgeMode('deposit')">Enviar</button><button class="btn-secondary" onclick="setBridgeMode('claim')">Receber</button><div id="bridgeDepositArea" style="margin-top:10px"><input type="number" id="bridgeAmount" placeholder="Qtd"><button class="btn-primary" onclick="approveUSDC()">Aprovar</button></div></div></div>
                <div id="multisender" class="page-section"><div class="glass-panel"><h3>Multisender</h3><input type="text" id="multiTokenAddr" placeholder="Token Addr"><textarea id="csvInput" class="code-area" placeholder="0x..., 100"></textarea><button class="btn-primary" onclick="sendBatch()">Enviar</button></div></div>
                <div id="locker" class="page-section"><div class="glass-panel"><h3>Locker</h3><input type="text" id="lockTokenAddr"><button class="btn-primary" onclick="lockTokens()">Trancar</button></div></div>
                <div id="vesting" class="page-section"><div class="glass-panel"><h3>Vesting</h3><input type="text" id="vestTokenAddr"><button class="btn-primary" onclick="createVesting()">Criar</button></div></div>

                <div id="leaderboard" class="page-section">
                    
                    <div class="nav-tabs-cyber">
                        <button class="cyber-tab active" id="tabProfile" onclick="switchSocialTab('profile')">HUB PRINCIPAL</button>
                        <button class="cyber-tab" id="tabTokens" onclick="switchSocialTab('tokens')">TOKEN EXPLORER</button>
                    </div>

                    <div id="socialProfileArea" class="cyber-grid-layout">
                        
                        <div class="cyber-col-left">
                            
                            <div class="cyber-card profile-card">
                                <div class="cyber-banner" id="profileBannerDisplay">
                                    <button class="edit-icon-btn top-right" onclick="document.getElementById('profileBannerInput').click()">üì∑</button>
                                    <input type="file" id="profileBannerInput" hidden accept="image/*" onchange="handleBannerUpload(this)">
                                </div>
                                
                                <div class="cyber-avatar-container">
                                    <div class="neon-ring">
                                        <img id="userAvatarDisplay" src="https://robohash.org/default?set=set4">
                                    </div>
                                    <button class="edit-icon-btn bottom-right" onclick="document.getElementById('profileAvatarInput').click()">‚úèÔ∏è</button>
                                    <input type="file" id="profileAvatarInput" hidden accept="image/*" onchange="handleAvatarUpload(this)">
                                </div>

                                <div class="cyber-profile-info">
                                    <h2 id="userDisplayName">Visitante</h2>
                                    <div class="wallet-badge" id="userWalletDisplay">0x...</div>
                                    
                                    <div class="bio-box">
                                        <p id="userBioDisplay">Building the future of DeFi.</p>
                                        <button class="edit-text-btn" onclick="document.getElementById('editProfileDialog').showModal()">‚úé</button>
                                    </div>

                                    <button id="btnDailyCheckin" class="btn-cyber-action" onclick="dailyCheckIn()">
                                        ‚ö° Daily Claim (+50 XP)
                                    </button>
                                    <small id="dailyTimer" style="color:#666; font-size:0.7rem;">Dispon√≠vel</small>
                                </div>
                            </div>

                            <div class="cyber-card contacts-card">
                                <div class="card-header-cyber">
                                    <h3>MEUS CONTATOS</h3>
                                </div>
                                <div id="contactsList" class="contacts-list-cyber">
                                    <p style="color:#666; font-size:0.8rem; text-align:center;">Sem contatos.</p>
                                </div>
                                <button class="btn-ghost" onclick="toggleAddContactForm()">+ Adicionar Endere√ßo</button>
                                
                                <div id="addContactForm" style="display:none; margin-top:10px; border-top:1px solid #333; padding-top:10px;">
                                    <input type="text" id="newContactName" placeholder="Nome" class="cyber-input-small">
                                    <input type="text" id="newContactWallet" placeholder="0x..." class="cyber-input-small">
                                    <button class="btn-cyber-small" onclick="saveContact()">Salvar</button>
                                </div>
                            </div>

                        </div>

                        <div class="cyber-col-right">
                            
                            <div class="cyber-card metrics-card">
                                <div class="card-header-cyber">
                                    <h3>MINHAS M√âTRICAS</h3>
                                </div>
                                <div class="metrics-row">
                                    <div class="metric-item">
                                        <span class="metric-icon">ü™ô</span>
                                        <div class="metric-data">
                                            <span class="metric-label">Tokens Criados</span>
                                            <b id="statTokens">0</b>
                                        </div>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-icon">üì®</span>
                                        <div class="metric-data">
                                            <span class="metric-label">Multisends</span>
                                            <b id="statMulti">0</b>
                                        </div>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-icon">üîí</span>
                                        <div class="metric-data">
                                            <span class="metric-label">Locks</span>
                                            <b id="statLocks">0</b>
                                        </div>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-icon">‚è≥</span>
                                        <div class="metric-data">
                                            <span class="metric-label">Vestings</span>
                                            <b id="statVests">0</b>
                                        </div>
                                    </div>
                                </div>
                                <div class="xp-total-row">
                                    <span class="xp-icon">üèÜ</span>
                                    <div class="xp-data">
                                        <span>TOTAL XP</span>
                                        <b id="statXP" class="neon-text-cyan">0</b>
                                    </div>
                                </div>
                            </div>

                            <div class="cyber-card leaderboard-card">
                                <div class="card-header-cyber flex-between">
                                    <h3>LEADERBOARD GLOBAL</h3>
                                    <div class="filter-pills">
                                        <span class="pill active">Geral</span>
                                        <span class="pill">Mensal</span>
                                    </div>
                                </div>
                                <div class="leaderboard-header-row">
                                    <span>Rank</span> <span>Usu√°rio</span> <span style="text-align:right">XP</span>
                                </div>
                                <div id="leaderboardList" class="leaderboard-list-cyber">
                                    <p style="padding:20px; text-align:center;">Carregando...</p>
                                </div>
                                <button class="btn-ghost full-width" onclick="loadLeaderboard()">üîÑ Atualizar</button>
                            </div>

                        </div>
                    </div>

                    <div id="socialTokensArea" style="display:none;">
                         <div class="cyber-card">
                            <h3>üî≠ Token Explorer</h3>
                            <button class="mini-btn" onclick="showSubTab('global')">Global</button>
                            <button class="mini-btn" onclick="showSubTab('my')">Meus</button>
                            <button class="mini-btn" onclick="showSubTab('portfolio')">Portfolio</button>
                            <div id="subTabGlobal" style="margin-top:15px;"><div id="globalTokensList" class="token-grid"></div></div>
                            <div id="subTabMy" style="display:none; margin-top:15px;"><div id="myTokensList" class="token-grid"></div></div>
                            <div id="subTabPortfolio" style="display:none; margin-top:15px;"><div id="portfolioList" class="token-grid"></div><button class="mini-btn" onclick="loadMyPortfolio()">Refresh</button></div>
                         </div>
                    </div>

                </div>
            </div>
        </main>
    </div>

    <dialog id="editProfileDialog" class="cyber-dialog">
        <h3>Editar Perfil</h3>
        <input type="text" id="editName" placeholder="Novo Nome" class="cyber-input">
        <input type="text" id="editBio" placeholder="Nova Bio" class="cyber-input">
        <div class="dialog-actions">
            <button class="btn-ghost" onclick="document.getElementById('editProfileDialog').close()">Cancelar</button>
            <button class="btn-cyber-small" onclick="saveProfileData(); document.getElementById('editProfileDialog').close()">Salvar</button>
        </div>
    </dialog>

    <script src="js/config.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/social.js"></script>
    <script src="js/web3.js"></script>
    <script>
        function showSubTab(name) {
            document.getElementById('subTabGlobal').style.display = 'none';
            document.getElementById('subTabMy').style.display = 'none';
            document.getElementById('subTabPortfolio').style.display = 'none';
            document.getElementById('subTab' + name.charAt(0).toUpperCase() + name.slice(1)).style.display = 'block';
            if(name === 'portfolio') loadMyPortfolio();
        }
    </script>
</body>
</html>
