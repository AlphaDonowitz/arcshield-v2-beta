<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arc Shield - Infrastructure Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link rel="stylesheet" href="css/style.css?v=10.0">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

    <div id="landingPage">
        <div class="landing-content" style="text-align: center;">
            <div style="margin-bottom: 20px; color: #3b82f6; font-weight: 600;">ARC TESTNET LIVE</div>
            <h1 class="hero-title">Arc <span class="text-blue">Shield</span></h1>
            <button class="btn-primary-lg" style="margin-top: 30px;" onclick="enterApp()">
                Acessar Dashboard
            </button>
        </div>
    </div>

    <div id="dashboardLayout" style="display: none;">
        
        <aside class="sidebar">
            <div class="brand-area">
                <i data-lucide="shield" style="color:#3b82f6"></i> <span>Arc Shield</span>
            </div>
            
            <div style="margin-bottom: 30px;">
                <label style="font-size:0.7rem; color:#666; font-weight:700; display:block; margin-bottom:10px; padding-left:10px;">FERRAMENTAS</label>
                
                <button class="nav-item" onclick="toggleSubmenu('launchpad-menu', this)">
                    <i data-lucide="rocket"></i> Launchpad
                </button>
                <div id="launchpad-menu" class="submenu">
                    <button class="nav-item" onclick="navigate('token-launcher', this)">Token ERC20</button>
                    <button class="nav-item" onclick="navigate('nft-launcher', this)">NFT Collection</button>
                </div>

                <button class="nav-item" onclick="navigate('studio', this)">
                    <i data-lucide="palette"></i> Arc Studio <span class="badge" style="margin-left:auto; background:#3b82f6; color:#000;">NEW</span>
                </button>

                <button class="nav-item" onclick="navigate('multisender', this)"><i data-lucide="send"></i> Multisender</button>
                <button class="nav-item" onclick="navigate('locker', this)"><i data-lucide="lock"></i> Locker</button>
                <button class="nav-item" onclick="navigate('vesting', this)"><i data-lucide="hourglass"></i> Vesting</button>
                <button class="nav-item" onclick="navigate('bridge', this)"><i data-lucide="arrow-left-right"></i> Bridge</button>
            </div>

            <div>
                <label style="font-size:0.7rem; color:#666; font-weight:700; display:block; margin-bottom:10px; padding-left:10px;">SOCIAL</label>
                <button class="nav-item" onclick="navigate('leaderboard', this)"><i data-lucide="users"></i> User Hub</button>
            </div>

            <div style="margin-top: auto; padding-top: 20px; border-top: 1px solid #27272a; display:flex; justify-content:space-between; align-items:center;">
                <div class="btn-connect" id="btnConnect" onclick="connectWallet()">Connect</div>
            </div>
        </aside>

        <main class="main-content">
            
            <div id="studio" class="page-section">
                <div class="studio-wrapper">
                    
                    <div class="studio-sidebar">
                        <div class="layers-header">
                            <span>CAMADAS</span>
                            <button class="btn-secondary" style="padding:4px 8px;" onclick="studioAddLayer()"><i data-lucide="plus" style="width:14px;"></i></button>
                        </div>
                        <div id="layersList" class="layers-list">
                            <div style="padding:20px; text-align:center; color:#666; font-size:0.8rem;">Adicione uma camada.</div>
                        </div>
                    </div>

                    <div class="studio-workspace">
                        <div class="workspace-header">
                            <h3 id="activeLayerTitle" style="margin:0; font-size:1.2rem;">Selecione uma Camada</h3>
                            <span id="activeLayerCount" class="badge">0 itens</span>
                        </div>
                        
                        <div id="traitGrid" class="trait-grid">
                            </div>
                        
                        <div id="emptyStateWorkspace" class="empty-state-studio">
                            <i data-lucide="layers" style="width:48px; height:48px; margin-bottom:10px; opacity:0.5;"></i>
                            <p>Selecione ou crie uma camada à esquerda para começar.</p>
                        </div>
                    </div>

                    <div class="studio-preview-col">
                        <label style="font-size:0.7rem; font-weight:700; margin-bottom:10px; display:block;">PREVIEW TEMPO REAL</label>
                        <div class="preview-box">
                            <canvas id="previewCanvas" width="500" height="500"></canvas>
                        </div>
                        <button class="btn-secondary full" onclick="studioGeneratePreview()" style="margin-bottom:20px;">
                            <i data-lucide="refresh-cw" style="width:14px; margin-right:6px;"></i> Randomize
                        </button>

                        <hr style="border:0; border-top:1px solid #27272a; margin-bottom:20px;">

                        <label style="font-size:0.7rem; font-weight:700; margin-bottom:10px; display:block;">CONFIGURAÇÃO DE EXPORTAÇÃO</label>
                        <div style="margin-bottom:10px;">
                            <label style="font-size:0.8rem; color:#888;">Quantidade</label>
                            <input type="number" id="genCount" value="50">
                        </div>
                        <div style="margin-bottom:20px;">
                            <label style="font-size:0.8rem; color:#888;">Resolução</label>
                            <select id="genRes">
                                <option value="500">500x500 px</option>
                                <option value="1000">1000x1000 px</option>
                                <option value="2000">2000x2000 px</option>
                            </select>
                        </div>

                        <div id="genProgress" class="progress-container">
                            <div style="display:flex; justify-content:space-between; font-size:0.7rem; margin-bottom:4px;">
                                <span id="genStatusText">Gerando...</span>
                                <span id="genPct">0%</span>
                            </div>
                            <div class="progress-bar"><div id="genBar" class="progress-fill"></div></div>
                        </div>

                        <button class="btn-primary" onclick="studioStartGeneration()" style="margin-top:auto;">
                            <i data-lucide="download"></i> Gerar Coleção
                        </button>
                    </div>

                </div>
            </div>

            <div class="content-container">
                <div id="token-launcher" class="page-section">
                    <div class="card">
                        <h3>Criar Token ERC20</h3>
                        <div class="form-row" style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                            <div><label>Nome</label><input id="tokenName"></div>
                            <div><label>Símbolo</label><input id="tokenSymbol"></div>
                        </div>
                        <label>Supply</label><input id="tokenSupply" type="number">
                        <button class="btn-primary mt-4" onclick="deployToken()">Criar</button>
                    </div>
                </div>

                <div id="nft-launcher" class="page-section">
                    <div class="card">
                        <h3>Criar Coleção NFT</h3>
                        <div class="form-row" style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                            <div><label>Nome</label><input id="nftName"></div>
                            <div><label>Símbolo</label><input id="nftSymbol"></div>
                        </div>
                        <div class="form-row" style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                            <div><label>Max Supply</label><input id="nftSupply" type="number"></div>
                            <div><label>Preço</label><input id="nftPrice" type="number"></div>
                        </div>
                        <button class="btn-primary mt-4" onclick="deployNFT()">Criar</button>
                    </div>
                </div>
                
                <div id="leaderboard" class="page-section"><div class="card"><h3>User Hub</h3><div id="myTokensList"></div></div></div>
                <div id="multisender" class="page-section"><div class="card"><h3>Multisender</h3><p>Coming soon visual update.</p></div></div>
            </div>

        </main>
    </div>

    <script src="js/config.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/studio.js"></script>
    <script src="js/social.js"></script>
    <script src="js/web3.js"></script>
    <script>window.addEventListener('load', () => { if(window.lucide) lucide.createIcons(); });</script>
</body>
</html>
